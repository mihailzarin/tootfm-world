# tootFM v2.0 - Revolutionary Party Playlists

üéµ **tootFM** - —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–¥–µ–∞–ª—å–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–∞—Ö, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—â–µ–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤–∫—É—Å—ã –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤—Å–µ–º, –∞ World ID –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á–µ—Å—Ç–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ = –æ–¥–∏–Ω –≥–æ–ª–æ—Å).

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è v2.0

- **Google OAuth** –≤–º–µ—Å—Ç–æ World ID –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **World ID** —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–§–æ–∫—É—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ** –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Spotify, Last.fm, Apple Music
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã** —Å Party Radio —Ä–µ–∂–∏–º–æ–º
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å Next.js 15.4 –∏ TypeScript

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å
- Google OAuth –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º –∏ –∏–º–µ–Ω–µ–º
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ World ID –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

### üéµ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **Spotify** - –∞–Ω–∞–ª–∏–∑ top-artists, top-tracks, saved-tracks, saved-albums
- **Last.fm** - –∞–Ω–∞–ª–∏–∑ LovedTracks, TopAlbums, TopArtists
- **Apple Music** - –∞–Ω–∞–ª–∏–∑ heavy-rotation, recent-played
- **–ï–¥–∏–Ω—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å** –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### üéâ –í–µ—á–µ—Ä–∏–Ω–∫–∏ –∏ –ø–ª–µ–π–ª–∏—Å—Ç—ã
- –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—á–µ—Ä–∏–Ω–æ–∫ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π –ø–æ –∫–æ–¥—É
- **AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∫—É—Å–æ–≤ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–î–µ–º–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** —Å World ID
- **Party Radio —Ä–µ–∂–∏–º** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º—É–∑—ã–∫–∏
- –≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –≤ Spotify/Apple Music

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Framework**: Next.js 15.4 (App Router)
- **Language**: TypeScript 5.0
- **Styling**: Tailwind CSS 3.4
- **State**: React Context + Hooks
- **Auth**: NextAuth.js —Å Google OAuth
- **UI**: Custom components + Lucide Icons

### Backend
- **Runtime**: Node.js 18+
- **API**: Next.js API Routes
- **Database**: PostgreSQL (Supabase)
- **ORM**: Prisma 6.14
- **Auth**: NextAuth + JWT
- **Cache**: Redis –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### External Services
- **Auth Primary**: Google OAuth
- **Auth Secondary**: World ID (–¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è)
- **Music APIs**:
  - Spotify Web API
  - Last.fm API
  - Apple Music API (MusicKit JS)
- **Hosting**: Vercel
- **Database**: Supabase

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone <repository-url>
cd tootfm-app
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/tootfm"

# NextAuth.js
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret-key-here"

# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Spotify API
SPOTIFY_CLIENT_ID="your-spotify-client-id"
SPOTIFY_CLIENT_SECRET="your-spotify-client-secret"
SPOTIFY_REDIRECT_URI="http://localhost:3000/api/auth/spotify/callback"

# Last.fm API
LASTFM_API_KEY="your-lastfm-api-key"
LASTFM_API_SECRET="your-lastfm-api-secret"

# Apple Music
APPLE_MUSIC_TEAM_ID="your-apple-team-id"
APPLE_MUSIC_KEY_ID="your-apple-key-id"
APPLE_MUSIC_PRIVATE_KEY="your-apple-private-key"

# World ID
WORLD_ID_APP_ID="app_staging_..."
WORLD_ID_ACTION="vote"

# Redis (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
REDIS_URL="redis://localhost:6379"

# App
NEXT_PUBLIC_APP_URL="http://localhost:3000"
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate dev

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npx prisma db seed
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build
npm start
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

### Google OAuth
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ Google+ API
4. –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 credentials
5. –î–æ–±–∞–≤—å—Ç–µ `http://localhost:3000/api/auth/callback/google` –≤ authorized redirect URIs

### Spotify API
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ Client ID –∏ Client Secret
4. –î–æ–±–∞–≤—å—Ç–µ `http://localhost:3000/api/auth/spotify/callback` –≤ Redirect URIs

### Last.fm API
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Last.fm API](https://www.last.fm/api)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
3. –ü–æ–ª—É—á–∏—Ç–µ API Key –∏ Secret

### Apple Music
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Apple Developer](https://developer.apple.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ MusicKit JS credentials
3. –ü–æ–ª—É—á–∏—Ç–µ Team ID, Key ID –∏ Private Key

### World ID
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [World ID](https://worldcoin.org/world-id)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ App ID

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ù–∞–∂–º–∏—Ç–µ "Get Started with Google"
- –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google OAuth

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ Spotify, Last.fm, Apple Music
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –µ–¥–∏–Ω—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—á–µ—Ä–∏–Ω–∫–∏
- –ù–∞–∂–º–∏—Ç–µ "Create Party"
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, Party Radio)
- –ü–æ–ª—É—á–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

### 4. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –≤–µ—á–µ—Ä–∏–Ω–∫–µ
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ `/join/[CODE]`
- –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤—Ä—É—á–Ω—É—é
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–≤–æ–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
- –ù–∞–∂–º–∏—Ç–µ "Generate Playlist"
- AI –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∫—É—Å—ã –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü–æ–ª—É—á–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–∫–∏

### 6. –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –ì–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ —Ç—Ä–µ–∫–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ World ID)
- –í–∫–ª—é—á–∏—Ç–µ Party Radio –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º—É–∑—ã–∫–∏
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç –≤ –ª—é–±–∏–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üß¨ –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

### –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –∞—Ä—Ç–∏—Å—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ISRC –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –ê–Ω–∞–ª–∏–∑ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –≤–∫—É—Å–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤ –∏–∑ –∞—Ä—Ç–∏—Å—Ç–æ–≤
- –†–∞—Å—á–µ—Ç —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
- –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤–∫—É—Å–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –†–∞—Å—á–µ—Ç match score –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Google OAuth** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **World ID** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–∏–±–∏–ª-–∞—Ç–∞–∫ –ø—Ä–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏
- **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è —Å–µ—Å—Å–∏–π
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** —Ç–æ–∫–µ–Ω–æ–≤ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è API

## üöÄ –î–µ–ø–ª–æ–π

### Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
npm install -g vercel
vercel
```

### Docker
```bash
docker build -t tootfm .
docker run -p 3000:3000 tootfm
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues**: [GitHub Issues](https://github.com/your-username/tootfm/issues)
- **Discord**: [tootFM Community](https://discord.gg/tootfm)
- **Email**: support@tootfm.com

---

**tootFM** - –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã –≤–º–µ—Å—Ç–µ! üéµ‚ú®
